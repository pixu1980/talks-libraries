@import './_taf.animations.css' layer(taf);

@layer taf {
  .slide-outro-taf {
    .taf-wrapper {
      position: relative;

      height: 50vh;
      aspect-ratio: 16 / 9;
      margin: 0 auto;
      border: 2px double var(--color-black-600);
      box-shadow: 0 0.5rem var(--code-gutter) var(--color-black-600);

      overflow: hidden;
    }

    svg,
    .circle {
      fill: none;

      position: absolute;
      left: 50%;
      top: 50%;

      transform: translate(-50%, -50%);
    }

    svg {
      width: 100%;
    }

    .circles {
      position: absolute;
      inset: 50% auto auto 50%;

      width: 100%;
      height: 100%;

      background-image: radial-gradient(circle, #cc3333, #a62323);

      transform: translate(-50%, -50%);

      small {
        position: absolute;
        inset: auto 1.5rem 1rem auto;
        z-index: 6;

        font-size: 0.4em;

        opacity: 0;
      }
    }

    .circle {
      box-shadow: inset 0 0 160px #000;
      animation: none;
    }

    &.present {
      .circles small {
        animation: show-up 1s ease-in-out forwards 5.5s;
      }

      .circle {
        animation: open-up 1s ease-in-out forwards;
      }
    }

    .six {
      width: 120%;
      height: auto;
      background: #a62323;
      border-radius: 50%;
      z-index: 1;
      animation-delay: 0s;
      aspect-ratio: 1;
    }

    .five {
      width: 100%;
      height: auto;
      background: #a62323;
      border-radius: 50%;
      z-index: 2;
      animation-delay: 0.2s;
      aspect-ratio: 1;
    }

    .four {
      width: 80%;
      height: auto;
      background: #cc3333;
      border-radius: 50%;
      z-index: 3;
      animation-delay: 0.4s;
      aspect-ratio: 1;
    }

    .three {
      width: 60%;
      height: auto;
      border-radius: 50%;
      background: #d54141;
      z-index: 4;
      animation-delay: 0.6s;
      aspect-ratio: 1;
    }

    .two {
      width: 40%;
      height: auto;
      background: #e55555;
      border-radius: 50%;
      z-index: 5;
      animation-delay: 0.8s;
      aspect-ratio: 1;
    }

    .one {
      width: 20%;
      height: auto;
      background-image: radial-gradient(circle, #073057, #000);
      border-radius: 50%;
      box-shadow: 0 0 160px #999;
      z-index: 6;
      animation-delay: 0s;
      aspect-ratio: 1;
    }

    &.present {
      path {
        animation: letter-animation 2.5s alternate forwards;
      }
    }

    path {
      stroke-width: 1;
      stroke-dasharray: 1600;
      stroke-dashoffset: 1600;
      stroke: white;
      fill: transparent;
      animation: none;

      &[data-name='Q1'] {
        animation-delay: 0s;
      }

      &[data-name='Q2'] {
        animation-delay: 0.2s;
      }

      &[data-name='T1'] {
        animation-delay: 0.3s;

        &#T1-2 {
          animation-delay: 0.45s;
        }
      }

      &[data-name='H'] {
        animation-delay: 0.7s;

        &#H-2 {
          animation-delay: 0.95s;
        }
      }

      &[data-name='A1'] {
        animation-delay: 1.1s;
      }

      &[data-name='T2'] {
        animation-delay: 1.5s;
      }

      &[data-name='Q3'] {
        animation-delay: 1.75s;
      }

      &[data-name='S1'] {
        animation-delay: 1.9s;
      }

      &[data-name='A2'] {
        animation-delay: 2.3s;
      }

      &[data-name='L1'] {
        animation-delay: 2.7s;
      }

      &[data-name='L2'] {
        animation-delay: 3.1s;
      }

      &[data-name='F'] {
        animation-delay: 3.5s;

        &#F-2 {
          animation-delay: 3.65s;
        }

        &#F-3 {
          animation-delay: 3.8s;
        }
      }

      &[data-name='O'] {
        animation-delay: 3.9s;
      }

      &[data-name='L3'] {
        animation-delay: 4.3s;
      }

      &[data-name='K'] {
        animation-delay: 4.7s;
      }

      &[data-name='S2'] {
        animation-delay: 5.1s;
      }

      &[data-name='EX'] {
        animation-delay: 5.25s;
      }

      &[data-name='Q4'] {
        animation-delay: 5.4s;
      }

      &[data-name='Q5'] {
        animation-delay: 5.55s;
      }
    }
  }
}
